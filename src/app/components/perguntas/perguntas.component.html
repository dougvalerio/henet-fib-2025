<div class="quiz-container">
  <h1>Quiz de Filmes e Séries</h1>
  
  <!-- Barra de progresso -->
  <div class="progress-bar">
    <span class="progress-text">{{ indicePerguntaAtual + 1 }}/9</span>
    <div class="progress-fill" [style.width.%]="((indicePerguntaAtual + 1) / 9) * 100"></div>
  </div>

  <!-- Contador de chances -->
  <div class="chances-container">
    <p class="chances-text">CHANCES: {{ 3 - tentativasErradas }}</p>
  </div>

  <!-- Conteúdo da pergunta -->
  <div class="question-container" *ngIf="perguntaAtual">
    <!-- Capa do filme/série -->
    <div class="question-image">
      <img [src]="perguntaAtual.imagePath" [alt]="perguntaAtual.title" />
    </div>

    <!-- Texto da pergunta -->
    <div class="question-text">
      <p>{{ perguntaAtual.text }}</p>
    </div>

    <!-- Opções de resposta -->
    <div class="options-container">
      <div
        *ngFor="let opcao of perguntaAtual.options; let i = index"
        class="option"
        [class.selected]="opcaoSelecionada === i"
        (click)="selecionarOpcao(i)"
      >
        <span class="option-letter">{{ 'ABCDE'[i] }}</span>
        <span>{{ opcao }}</span>
      </div>
    </div>
  </div>

  <!-- Botão Próximo -->
  <button
    class="next-button"
    [disabled]="opcaoSelecionada === null"
    (click)="proximaPergunta()"
  >
    <i class="fas fa-arrow-right"></i> PRÓXIMO
  </button>

  <!-- Popup -->
  <app-popup-resultado-resposta
    [showPopup]="exibirPopup"
    [isCorrectAnswer]="respostaCorreta"
    [isQuizFinished]="quizFinalizado"
    [isInitialMessage]="mensagemInicial"
    [tentativasErradas]="tentativasErradas"
    [perguntaTitulo]="perguntaTitulo"
    (close)="fecharPopup()"
  ></app-popup-resultado-resposta>
</div>
