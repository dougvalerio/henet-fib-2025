<div class="popup-overlay" *ngIf="showPopup">
  <div class="popup-content">
    <!-- Mensagem Inicial -->
    <div *ngIf="isInitialMessage" class="popup-body">
      <img [src]="getGifUrl()" alt="Início do Quiz" class="popup-gif" />
      <h2 class="popup-title">Está preparado? 🎉</h2>
      <p class="popup-message">{{ initialMessage }}</p>
      <button class="popup-button next" (click)="closePopup()">
        <i class="fas fa-play"></i> Iniciar Quiz
      </button>
    </div>

    <!-- Resposta Errada -->
    <div *ngIf="!isInitialMessage && !isCorrectAnswer && !isQuizFinished" class="popup-body">
      <img [src]="getGifUrl()" alt="Resposta Errada" class="popup-gif" />
      <h2 class="popup-title">Que Pena! 😢</h2>
      <p class="popup-message">{{ errorMessage }}</p>
      <p class="chances-text">CHANCES: {{ 3 - tentativasErradas }}</p>
      <button class="popup-button" (click)="closePopup()">
        <i class="fas fa-arrow-right" *ngIf="tentativasErradas < 3"></i>
        <i class="fas fa-home" *ngIf="tentativasErradas >= 3"></i>
        {{ tentativasErradas < 3 ? 'Continuar' : 'Início' }}
      </button>
    </div>

    <!-- Resposta Correta (não final) -->
    <div *ngIf="!isInitialMessage && isCorrectAnswer && !isQuizFinished" class="popup-body">
      <img [src]="getGifUrl()" alt="Resposta Correta" class="popup-gif" />
      <h2 class="popup-title">Muito bem! 🌟</h2>
      <p class="popup-message">{{ correctMessage }}</p>
      <button class="popup-button next" (click)="closePopup()">
        <i class="fas fa-arrow-right"></i> Próximo
      </button>
    </div>

    <!-- Quiz Finalizado -->
    <div *ngIf="!isInitialMessage && isQuizFinished" class="popup-body">
      <img [src]="getGifUrl()" alt="Confete" class="popup-gif" />
      <h2 class="popup-title">Parabéns! 🏆</h2>
      <p class="popup-message">{{ finishedMessage }}</p>
      <button class="popup-button" (click)="closePopup()">
        <i class="fas fa-home"></i> Início
      </button>
    </div>
  </div>
</div>