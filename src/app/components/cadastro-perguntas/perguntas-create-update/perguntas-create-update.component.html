<div class="modal-overlay" *ngIf="modalAberto">
  <div class="modal-content">
    <button class="close-btn" (click)="fecharModal()">
      <i class="fas fa-times"></i>
    </button>
    <h2>{{ modoEdicao ? 'Editar Pergunta' : 'Nova Pergunta' }}</h2>
    <form class="question-form">
      <div class="form-group">
        <label for="tituloSelect">Título do Filme/Série</label>
        <div class="select-container">
          <select
            id="tituloSelect"
            [(ngModel)]="idTituloSelecionado"
            name="tituloSelect"
            class="select-input"
          >
            <option value="" disabled>Selecione um título</option>
            <option *ngFor="let titulo of titulos" [value]="titulo.id">
              {{ titulo.nome }}
            </option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label for="textoPergunta">Pergunta</label>
        <input
          type="text"
          id="textoPergunta"
          [(ngModel)]="perguntaFormulario.pergunta"
          name="textoPergunta"
          placeholder="Digite a pergunta"
          class="question-input"
        />
      </div>
      <div class="form-group answers-group">
        <label>Respostas</label>
        <div class="answer-row" *ngFor="let resposta of respostas; let i = index; trackBy: trackByIndex">
          <span class="answer-label">{{ rotulosRespostas[i] }}</span>
          <input
            type="text"
            [(ngModel)]="respostas[i]"
            [name]="'resposta' + i"
            placeholder="Digite a resposta"
            class="answer-input"
          />
          <input
            type="checkbox"
            [checked]="perguntaFormulario.respostaCorreta === i"
            (change)="definirRespostaCorreta(i)"
            class="answer-checkbox"
          />
        </div>
      </div>
      <p class="error-message" *ngIf="mensagemErro">{{ mensagemErro }}</p>
      <div class="form-actions">
        <button type="button" class="btn-cancel" (click)="fecharModal()">
          Cancelar
        </button>
        <button
          type="button"
          class="btn-save"
          (click)="salvarPergunta()"
        >
          {{ modoEdicao ? 'Salvar Edição' : 'Salvar' }}
        </button>
      </div>
    </form>
  </div>
</div>