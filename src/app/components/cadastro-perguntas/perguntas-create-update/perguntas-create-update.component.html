<div class="modal-overlay" *ngIf="isOpen">
  <div class="modal-content">
    <button class="close-btn" (click)="closeModal()">
      <i class="fas fa-times"></i>
    </button>
    <h2>{{ isEditMode ? 'Editar Pergunta' : 'Nova Pergunta' }}</h2>
    <form class="question-form">
      <div class="form-group">
        <label for="titleSelect">Título do Filme/Série</label>
        <div class="select-container">
          <select
            id="titleSelect"
            [(ngModel)]="selectedTitleId"
            name="titleSelect"
            class="select-input"
          >
            <option value="" disabled selected>Selecione um título</option>
            <option *ngFor="let titulo of titulos" [value]="titulo.id">
              {{ titulo.nome }}
            </option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label for="questionText">Pergunta</label>
        <input
          type="text"
          id="questionText"
          [(ngModel)]="pergunta.pergunta"
          name="questionText"
          placeholder="Digite a pergunta"
          class="question-input"
        />
      </div>
      <div class="form-group answers-group">
        <label>Respostas</label>
        <div class="answer-row" *ngFor="let answer of respostas; let i = index; trackBy: trackByIndex">
          <span class="answer-label">{{ answerLabels[i] }}</span>
          <input
            type="text"
            [(ngModel)]="respostas[i]"
            [name]="'answer' + i"
            placeholder="Digite a resposta"
            class="answer-input"
          />
          <input
            type="checkbox"
            [checked]="pergunta.respostaCorreta === i"
            (change)="setCorrectAnswer(i)"
            class="answer-checkbox"
          />
        </div>
      </div>
      <div class="form-actions">
        <button type="button" class="btn-cancel" (click)="closeModal()">
          Cancelar
        </button>
        <button
          type="submit"
          class="btn-save"
          [disabled]="!isFormValid"
          (click)="saveQuestion()"
        >
          {{ isEditMode ? 'Salvar Edição' : 'Salvar' }}
        </button>
      </div>
    </form>
  </div>
</div>